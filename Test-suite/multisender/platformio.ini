[platformio]
default_envs = nano_esp32, esp32dev

# ===== Global Settings =====
[env]
framework = arduino
monitor_speed = 115200
monitor_filters =
    colorize
    time
upload_speed = 921600
build_flags =
    -I include

# ===== ARDUINO NANO ESP32 (ESP32-S3) =====
[env:nano_esp32]
platform = espressif32
board = arduino_nano_esp32
board_build.mcu = esp32s3
board_build.f_cpu = 240000000L

# Arduino Nano ESP32 Dual LoRa Module Configuration
# Module 1 (trident1): Uses default hardware SPI pins
# Module 2 (trident2): Shares SPI bus, separate control pins
build_flags =
    ${env.build_flags}
    -D BOARD_NANO_ESP32
    ; Module 1 (trident1) pins
    -D LORA1_NSS=10
    -D LORA1_DIO0=2
    -D LORA1_RESET=9
    -D LORA1_NAME=\"trident1\"
    ; Module 2 (trident2) pins
    -D LORA2_NSS=7
    -D LORA2_DIO0=3
    -D LORA2_RESET=8
    -D LORA2_NAME=\"trident2\"
    ; Common settings
    -D LORA_FREQUENCY=433E6
    -D BOARD_NAME=\"NanoESP32\"

lib_deps =
    sandeepmistry/LoRa@^0.8.0

monitor_speed = 9600

# ===== ESP32 DEV BOARD (ESP32-WROOM-32) =====
[env:esp32dev]
platform = espressif32
board = esp32dev
board_build.mcu = esp32
board_build.f_cpu = 240000000L

# ESP32 Dev Board Dual LoRa Module Configuration
# Using VSPI (default SPI bus) shared between both modules
# Each module has its own NSS, DIO0, and RESET pins
# Wiring:
#   SCK  -> GPIO18 (shared)
#   MISO -> GPIO19 (shared)
#   MOSI -> GPIO23 (shared)
#   Module 1: NSS=GPIO5,  DIO0=GPIO14, RST=GPIO21
#   Module 2: NSS=GPIO15, DIO0=GPIO27, RST=GPIO26
build_flags =
    ${env.build_flags}
    -D BOARD_ESP32_DEV
    ; Module 1 (trident1) pins
    -D LORA1_NSS=5
    -D LORA1_DIO0=14
    -D LORA1_RESET=21
    -D LORA1_NAME=\"trident1\"
    ; Module 2 (trident2) pins
    -D LORA2_NSS=15
    -D LORA2_DIO0=27
    -D LORA2_RESET=26
    -D LORA2_NAME=\"trident2\"
    ; Common settings
    -D LORA_FREQUENCY=433E6
    -D BOARD_NAME=\"ESP32Dev\"

lib_deps =
    sandeepmistry/LoRa@^0.8.0

monitor_speed = 9600
