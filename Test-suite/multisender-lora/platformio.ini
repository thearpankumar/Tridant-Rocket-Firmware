[platformio]
default_envs = esp32dev_dual_ra02

# ===== Global Settings =====
[env]
framework = arduino
monitor_speed = 115200
monitor_filters =
    colorize
    time
upload_speed = 921600
build_flags =
    -I include

# ===== Common LoRa Settings =====
[lora_common]
lib_deps = jgromes/RadioLib@^6.6.0

# ===== Module Type Configurations =====
[lora_ra02]
build_flags = -D LORA_MODULE_RA02

[lora_sx1262]
build_flags = -D LORA_MODULE_SX1262

# ===== ESP32 DEV BOARD (ESP32-WROOM-32) - Dual Ra-02 =====
[env:esp32dev_dual_ra02]
platform = espressif32
board = esp32dev
board_build.mcu = esp32
board_build.f_cpu = 240000000L

lib_deps = ${lora_common.lib_deps}

# ESP32 Dev Board Dual LoRa Module Configuration
# Using VSPI (default SPI bus) shared between both modules
# Each module has its own NSS, DIO0, and RESET pins
# Wiring:
#   SCK  -> GPIO18 (shared)
#   MISO -> GPIO19 (shared)
#   MOSI -> GPIO23 (shared)
#   Module 1: NSS=GPIO5,  DIO0=GPIO14, RST=GPIO21
#   Module 2: NSS=GPIO15, DIO0=GPIO27, RST=GPIO26
build_flags =
    ${env.build_flags}
    ${lora_ra02.build_flags}
    -D BOARD_ESP32_DEV
    ; Module 1 (trident1) pins
    -D LORA1_NSS=5
    -D LORA1_DIO0=14
    -D LORA1_RESET=21
    -D LORA1_NAME=\"trident1\"
    ; Module 2 (trident2) pins
    -D LORA2_NSS=15
    -D LORA2_DIO0=27
    -D LORA2_RESET=26
    -D LORA2_NAME=\"trident2\"
    ; Common settings
    #-D LORA_FREQUENCY=433E6
    -D LORA_FREQUENCY=915E6
    -D BOARD_NAME=\"ESP32Dev\"

monitor_speed = 9600

# ===== ESP32 DEV BOARD (ESP32-WROOM-32) - Dual SX1262 =====
[env:esp32dev_dual_sx1262]
platform = espressif32
board = esp32dev
board_build.mcu = esp32
board_build.f_cpu = 240000000L

lib_deps = ${lora_common.lib_deps}

# ESP32 Dev Board Dual SX1262 Module Configuration
# Using VSPI (default SPI bus) shared between both modules
# Each module has its own NSS, DIO1, RESET, and BUSY pins
# Wiring:
#   SCK  -> GPIO18 (shared)
#   MISO -> GPIO19 (shared)
#   MOSI -> GPIO23 (shared)
#   Module 1: NSS=GPIO5,  DIO1=GPIO14, RST=GPIO21, BUSY=GPIO4
#   Module 2: NSS=GPIO15, DIO1=GPIO27, RST=GPIO26, BUSY=GPIO25
build_flags =
    ${env.build_flags}
    ${lora_sx1262.build_flags}
    -D BOARD_ESP32_DEV
    ; Module 1 (trident1) pins
    -D LORA1_NSS=5
    -D LORA1_DIO1=14
    -D LORA1_RESET=21
    -D LORA1_BUSY=4
    -D LORA1_NAME=\"trident1\"
    ; Module 2 (trident2) pins
    -D LORA2_NSS=15
    -D LORA2_DIO1=27
    -D LORA2_RESET=26
    -D LORA2_BUSY=25
    -D LORA2_NAME=\"trident2\"
    ; Common settings
    #-D LORA_FREQUENCY=433E6
    -D LORA_FREQUENCY=915E6
    -D BOARD_NAME=\"ESP32Dev\"

monitor_speed = 9600
