[platformio]
default_envs = esp32dev

# ===== Global Settings =====
[env]
framework = arduino
monitor_speed = 115200
monitor_filters =
    colorize
    time
build_flags =
    -I include

# ===== ESP32 DEV BOARD (ESP32-WROOM-32) =====
[env:esp32dev]
platform = espressif32
board = esp32dev
board_build.mcu = esp32
board_build.f_cpu = 240000000L
upload_speed = 921600

# MAX31865 RTD Configuration for ESP32 Dev Board
# Wiring (using VSPI):
#   MAX31865 VIN  -> ESP32 3.3V
#   MAX31865 GND  -> ESP32 GND
#   MAX31865 CLK  -> ESP32 GPIO18 (VSPI CLK)
#   MAX31865 SDO  -> ESP32 GPIO19 (VSPI MISO)
#   MAX31865 SDI  -> ESP32 GPIO23 (VSPI MOSI)
#   MAX31865 CS   -> ESP32 GPIO5  (VSPI SS)
#
# RTD Sensor Connection:
#   2-Wire: Connect RTD between F+ and RTD+, jumper F- to RTD-
#   3-Wire: Connect RTD between F+, RTD+, and F-
#   4-Wire: Connect RTD between F+, F-, RTD+, and RTD-

build_flags =
    ${env.build_flags}
    -D BOARD_ESP32_DEV
    -D MAX31865_CS_PIN=5
    -D MAX31865_MOSI_PIN=23
    -D MAX31865_MISO_PIN=19
    -D MAX31865_CLK_PIN=18
    -D BOARD_NAME=\"ESP32Dev\"

lib_deps =
    adafruit/Adafruit MAX31865 library@^1.6.2
