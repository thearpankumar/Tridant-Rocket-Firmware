[platformio]
default_envs = esp32dev

# ===== Global Settings =====
[env]
framework = arduino
monitor_speed = 115200
monitor_filters =
    colorize
    time
build_flags =
    -I include

# ===== ESP32 DEV BOARD (ESP32-WROOM-32) =====
[env:esp32dev]
platform = espressif32
board = esp32dev
board_build.mcu = esp32
board_build.f_cpu = 240000000L
upload_speed = 921600

# HX711 Load Cell Configuration for ESP32 Dev Board
# Wiring:
#   HX711 VCC  -> ESP32 3.3V
#   HX711 GND  -> ESP32 GND
#   HX711 DT   -> ESP32 GPIO16 (Data)
#   HX711 SCK  -> ESP32 GPIO4  (Clock)
#
# Load Cell to HX711:
#   Red   (E+) -> HX711 E+
#   Black (E-) -> HX711 E-
#   White (A-) -> HX711 A-
#   Green (A+) -> HX711 A+

build_flags =
    ${env.build_flags}
    -D BOARD_ESP32_DEV
    -D LOADCELL_DOUT_PIN=16
    -D LOADCELL_SCK_PIN=4
    -D BOARD_NAME=\"ESP32Dev\"

lib_deps =
    bogde/HX711@^0.7.5
