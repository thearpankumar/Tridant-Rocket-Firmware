[platformio]
default_envs = nano_esp32, esp32dev, uno

# ===== Global Settings =====
[env]
framework = arduino
monitor_speed = 115200
monitor_filters =
    colorize
    time
upload_speed = 921600
build_flags =
    -I include

# ===== ARDUINO NANO ESP32 (ESP32-S3) =====
[env:nano_esp32]
platform = espressif32
board = arduino_nano_esp32
board_build.mcu = esp32s3
board_build.f_cpu = 240000000L

# Arduino Nano ESP32 Pin Configuration
# Using default hardware SPI pins (D11, D12, D13)
# These map to the hardware SPI controller for best performance
build_flags =
    ${env.build_flags}
    -D BOARD_NANO_ESP32
    -D LORA_NSS=10
    -D LORA_DIO0=2
    -D LORA_RESET=9
    -D LORA_FREQUENCY=433E6
    -D BOARD_NAME=\"NanoESP32\"
    -D DEVICE_NAME=\"sender1\"

lib_deps =
    sandeepmistry/LoRa@^0.8.0

monitor_speed = 9600

# ===== ESP32 DEV BOARD (ESP32-WROOM-32) =====
[env:esp32dev]
platform = espressif32
board = esp32dev
board_build.mcu = esp32
board_build.f_cpu = 240000000L

# ESP32 Dev Board Pin Configuration
# Using default VSPI pins (hardware SPI - most reliable!)
# Default VSPI: SCK=GPIO18, MISO=GPIO19, MOSI=GPIO23
build_flags =
    ${env.build_flags}
    -D BOARD_ESP32_DEV
    -D LORA_NSS=5
    -D LORA_DIO0=14
    -D LORA_RESET=21
    -D LORA_FREQUENCY=433E6
    -D BOARD_NAME=\"ESP32Dev\"
    -D DEVICE_NAME=\"sender1\"

lib_deps =
    sandeepmistry/LoRa@^0.8.0

monitor_speed = 9600

# ===== ARDUINO UNO (ATmega328P) =====
[env:uno]
platform = atmelavr
board = uno
board_build.mcu = atmega328p
board_build.f_cpu = 16000000L

# Arduino Uno Pin Configuration
# IMPORTANT: Arduino Uno is 5V logic, Ra-02 is 3.3V
# You MUST use level shifters between Arduino Uno and Ra-02!
build_flags =
    ${env.build_flags}
    -D BOARD_ARDUINO_UNO
    -D LORA_NSS=10
    -D LORA_DIO0=2
    -D LORA_RESET=9
    -D LORA_FREQUENCY=433E6
    -D BOARD_NAME=\"ArduinoUno\"
    -D DEVICE_NAME=\"sender1\"

lib_deps =
    sandeepmistry/LoRa@^0.8.0

# Arduino Uno has limited resources (2KB RAM, 32KB Flash)
# Upload speed is slower than ESP32
upload_speed = 115200
monitor_speed = 115200
